@model IEnumerable<ServiceListingViewModel>

@{
    ViewBag.Title = "Services";
    ViewBag.CanEdit = true;
}

<div class="row">
    <div class="col-sm-12 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6">

        <h2 class="heading-margin text-center">@ViewBag.Title</h2>

        <div asp-validation-summary="ModelOnly" class="text-danger text-center list-error"></div>

        @if (!Model.Any())
        {
            <div class="container-fluid py-3 text-center">
                <h2 class="display-7 fw-bold mb-4">This barbershop dose not have any services</h2>
                <p class="fs-5">You can add services in the barbershop manage menu</p>
                <a asp-controller="BarberShop" asp-action="Manage" button class="btn btn-primary btn-lg" type="button">Manage Barbershop</a>
            </div>
        }
        <div class="col">
            <form method="post">

                @if (Model.Any(s => s.Category == "Hair"))
                {
                    <div class="row mb-5">
                        <h4 class="text-center mb-3 fw-bold">Hair</h4>
                        <hr class="mb-5" />
                        @foreach (var service in Model.Where(s => s.Category == "Hair"))
                        {
                            <partial name="_ServicesPartial" model="service" />
                        }
                    </div>
                }

                @if (Model.Any(s => s.Category == "Face"))
                {
                    <div class="row mb-5">
                        <h4 class="text-center mb-3 fw-bold">Face</h4>
                        <hr class="mb-5" />
                        @foreach (var service in Model.Where(s => s.Category == "Face"))
                        {
                            <partial name="_ServicesPartial" model="service" />
                        }
                    </div>
                }

                @if (Model.Any(s => s.Category == "Epilation"))
                {
                    <div class="row mb-5">
                        <h4 class="text-center mb-3 fw-bold">Epilation</h4>
                        <hr class="mb-5" />
                        @foreach (var service in Model.Where(s => s.Category == "Epilation"))
                        {
                            <partial name="_ServicesPartial" model="service" />
                        }
                    </div>
                }
            </form>
        </div>
    </div>
</div>
